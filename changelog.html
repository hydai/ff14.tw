<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>修改紀錄 - FF14.tw</title>
    <meta name="description" content="FF14.tw 網站功能更新與修改紀錄">
    <link rel="icon" type="image/x-icon" href="assets/images/ff14tw.ico">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/changelog.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="/" class="logo">FF14.tw</a>
            <nav class="nav">
                <a href="/">首頁</a>
                <a href="/copyright.html">版權聲明</a>
                <a href="https://github.com/hydai/ff14.tw" target="_blank" rel="noopener noreferrer">GitHub</a>
                <div class="nav-dropdown">
                    <a href="#" class="active">關於本站</a>
                    <div class="nav-dropdown-content">
                        <a href="/about.html">關於</a>
                        <a href="/changelog.html">修改紀錄</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container changelog-layout">
            <!-- TOC 側邊欄 -->
            <aside class="toc-sidebar">
                <div class="toc-container">
                    <h2 class="toc-title">快速導覽</h2>
                    <nav class="toc-nav" id="tocNav">
                        <!-- TOC 內容將由 JavaScript 動態生成 -->
                    </nav>
                </div>
            </aside>

            <!-- 主要內容區 -->
            <div class="changelog-content-wrapper">
                <h1>修改紀錄</h1>
                <p class="subtitle">記錄 FF14.tw 的功能更新與改進</p>

                <div class="changelog-container">
                <!-- 2025年7月 -->
                <section class="changelog-section">
                    <h2 class="changelog-year">2025年7月</h2>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v2.0.4</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 最佳路線頁面新增「複製路線」按鈕</li>
                                <li><span class="tag tag-feature">功能</span> 一鍵複製所有路線地點，方便分享給隊友</li>
                                <li><span class="tag tag-feature">功能</span> 複製格式包含地點類型、名稱與座標指令</li>
                                <li><span class="tag tag-improve">改進</span> 路線分享更加便利，支援文字格式輸出</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v2.0.3</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improve">改進</span> 重新設計路線規劃演算法，改用傳送點分組策略</li>
                                <li><span class="tag tag-feature">功能</span> 每個寶圖現在會被分配到最近的傳送點</li>
                                <li><span class="tag tag-feature">功能</span> 相同傳送點附近的寶圖會一起收集，避免不必要的往返</li>
                                <li><span class="tag tag-improve">改進</span> 更有效利用傳送的零成本特性，大幅減少總移動距離</li>
                                <li><span class="tag tag-improve">改進</span> 優先訪問寶圖數量較多的傳送點區域</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v2.0.2</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fix">修復</span> 寶圖搜尋器路線規劃無法找到傳送點的問題</li>
                                <li><span class="tag tag-fix">修復</span> 地區名稱（zone）與地區ID（zoneId）不匹配導致傳送點查詢失敗</li>
                                <li><span class="tag tag-improve">改進</span> 新增 zone 到 zoneId 的映射表，支援所有遊戲地區</li>
                                <li><span class="tag tag-improve">改進</span> 路線現在從最近的傳送點開始，提供更合理的路徑規劃</li>
                                <li><span class="tag tag-improve">改進</span> 加入詳細的除錯日誌，方便問題診斷</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v2.0.1</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fix">修復</span> 寶圖搜尋器路線規劃地區名稱顯示為 undefined 的問題</li>
                                <li><span class="tag tag-fix">修復</span> 傳送點名稱未正確顯示的問題</li>
                                <li><span class="tag tag-fix">修復</span> 傳送次數統計錯誤的問題</li>
                                <li><span class="tag tag-improve">改進</span> 路線步驟顯示正確的地區名稱（如顯示「厄爾庇斯」而非 zoneId）</li>
                                <li><span class="tag tag-improve">改進</span> 傳送點使用實際名稱與座標資訊</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v2.0.0</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器路線規劃功能（Phase 2）</li>
                                <li><span class="tag tag-feature">功能</span> 自動生成最佳寶圖收集路線</li>
                                <li><span class="tag tag-feature">功能</span> 支援多地圖路徑優化演算法（基於非對稱距離矩陣）</li>
                                <li><span class="tag tag-feature">功能</span> 智慧起點選擇與地區訪問順序優化</li>
                                <li><span class="tag tag-new">新增</span> 64 個傳送點資料（G8、G10、G12、G14、G15、G17 地區）</li>
                                <li><span class="tag tag-improve">改進</span> 路線結果面板支援座標點擊複製</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.6</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器 G8 巨龍革地圖資料（35 個座標）</li>
                                <li><span class="tag tag-info">資訊</span> 包含蒼天地區：Coerthas Western Highlands×7、The Dravanian Forelands×9、The Churning Mists×9、The Sea of Clouds×10</li>
                                <li><span class="tag tag-info">資訊</span> 資料庫現有 171 筆真實寶圖座標（G8×35、G10×48、G14×40、G15×8、G17×40）</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.5</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器 G10 瞪羚革地圖資料（48 個座標）</li>
                                <li><span class="tag tag-info">資訊</span> 包含紅蓮地區：The Fringes、The Peaks、The Lochs、The Ruby Sea、Yanxia、The Azim Steppe 各 8 個座標</li>
                                <li><span class="tag tag-info">資訊</span> 資料庫現有 136 筆真實寶圖座標（G10×48、G14×40、G15×8、G17×40）</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.4</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器 G14 金毗羅鱷革地圖資料（40 個座標）</li>
                                <li><span class="tag tag-info">資訊</span> 包含 Labyrinthos、Thavnair、Garlemald、Mare Lamentorum、Ultima Thule 各 8 個座標</li>
                                <li><span class="tag tag-info">資訊</span> 資料庫現有 88 筆真實寶圖座標（G14×40、G15×8、G17×40）</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.3</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 移除寶圖搜尋器的範例資料</li>
                                <li><span class="tag tag-info">資訊</span> 資料庫現有 48 筆真實寶圖座標（G15×8、G17×40）</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.2</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器 G15 蛇牛革地圖資料（厄爾庇斯 8 個座標）</li>
                                <li><span class="tag tag-improved">改進</span> 恢復 G15 等級篩選按鈕顯示</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.1</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 寶圖地區名稱支援多語言顯示（繁中/英文/日文）</li>
                                <li><span class="tag tag-improved">改進</span> 優化卡片布局以容納多語言內容</li>
                                <li><span class="tag tag-improved">改進</span> 清單項目加入地區名稱提示</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.9.0</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器 G17 獰豹革地圖資料（40 個座標）</li>
                                <li><span class="tag tag-new">新增</span> 圖拉利亞地區篩選器（含 5 個子區域）</li>
                                <li><span class="tag tag-improved">改進</span> 支援最新版本 7.0 黃金遺產的寶圖資料</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.9</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fixed">修正</span> 寶圖搜尋器「已加入」按鈕顏色無法正確顯示的問題</li>
                                <li><span class="tag tag-improved">改進</span> 新增缺少的按鈕樣式定義（primary、success、danger、info）</li>
                                <li><span class="tag tag-improved">改進</span> 強化已加入狀態的視覺反饋效果</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.8</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-security">安全</span> 修正寶圖搜尋器潛在的 XSS 漏洞</li>
                                <li><span class="tag tag-improved">改進</span> 使用 DOM API 取代 innerHTML 增強安全性</li>
                                <li><span class="tag tag-improved">改進</span> 加入完整的資料驗證和清理機制</li>
                                <li><span class="tag tag-improved">改進</span> 使用 Set 優化清單查找效能</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.7</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 寶圖搜尋器只顯示熱門等級 (G8, G10, G12, G14, G16, G17)</li>
                                <li><span class="tag tag-improved">改進</span> 暫時隱藏較少使用的寶圖等級選項</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.6</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器清單匯出功能（複製到剪貼簿）</li>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器清單匯入功能（支援貼上文字或檔案）</li>
                                <li><span class="tag tag-improved">改進</span> 支援清單合併或取代的選項</li>
                                <li><span class="tag tag-improved">改進</span> 匯出採用剪貼簿方式方便玩家分享</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.5</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 為開發中的工具加上「施工中」標示</li>
                                <li><span class="tag tag-improved">改進</span> 副本資料庫、角色卡產生器、寶圖搜尋器標示施工中</li>
                                <li><span class="tag tag-improved">改進</span> 使用橘色標籤和工程圖示提醒使用者</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.4</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 優化「我的清單」面板視覺對比度</li>
                                <li><span class="tag tag-improved">改進</span> 降低背景遮罩透明度提升可讀性</li>
                                <li><span class="tag tag-improved">改進</span> 使用純白背景和分層設計增強清晰度</li>
                                <li><span class="tag tag-improved">改進</span> 加強陰影效果讓面板更突出</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.3</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fixed">修正</span> 寶圖搜尋器「我的清單」無法開啟的問題</li>
                                <li><span class="tag tag-improved">改進</span> 加入面板關閉按鈕和背景遮罩</li>
                                <li><span class="tag tag-improved">改進</span> 支援多種關閉方式（ESC、點擊外部、關閉按鈕）</li>
                                <li><span class="tag tag-improved">改進</span> 開啟面板時防止背景滾動</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.2</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 移除圖片彈出視窗，操作更直覺</li>
                                <li><span class="tag tag-improved">改進</span> 複製座標功能直接整合在卡片上</li>
                                <li><span class="tag tag-improved">改進</span> 使用青色突顯複製座標按鈕</li>
                                <li><span class="tag tag-improved">改進</span> 優化按鈕大小和圖示提升辨識度</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.1</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 寶圖搜尋器介面設計，提升使用體驗</li>
                                <li><span class="tag tag-improved">改進</span> 重新設計控制列布局，功能分區更清晰</li>
                                <li><span class="tag tag-improved">改進</span> 加入圖示和視覺提示增強辨識度</li>
                                <li><span class="tag tag-improved">改進</span> 優化按鈕樣式和 hover 效果</li>
                                <li><span class="tag tag-fixed">修正</span> 座標顯示加入 Z 軸數值</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.8.0</h3>
                            <time class="changelog-date" datetime="2025-07-04">2025年7月4日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 寶圖搜尋器工具</li>
                                <li><span class="tag tag-new">新增</span> 支援 G1-G17 全部寶圖等級查詢</li>
                                <li><span class="tag tag-new">新增</span> 個人寶圖清單管理功能</li>
                                <li><span class="tag tag-new">新增</span> 多條件篩選（等級、地區）</li>
                                <li><span class="tag tag-new">新增</span> 座標複製功能（/pos 指令）</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.7.4</h3>
                            <time class="changelog-date" datetime="2025-07-03">2025年7月3日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> Mini Cactpot 計算機「回到上一步」功能</li>
                                <li><span class="tag tag-improved">改進</span> 支援撤銷選擇格子、取消選擇和輸入數字等操作</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.7.3</h3>
                            <time class="changelog-date" datetime="2025-07-02">2025年7月2日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> Mini Cactpot 計算機支援填寫四格數字</li>
                                <li><span class="tag tag-improved">改進</span> 提供更精確的期望值計算結果</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.7.2</h3>
                            <time class="changelog-date" datetime="2025-07-02">2025年7月2日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> Faux Hollows Foxes 計算機「回到上一步」功能</li>
                                <li><span class="tag tag-improved">改進</span> 可撤銷最近的操作並恢復到之前的盤面狀態</li>
                                <li><span class="tag tag-improved">改進</span> 包含手動點擊和自動填充的完整撤銷支援</li>
                            </ul>
                        </div>
                    </article>
                </section>
                
                <!-- 2025年6月30日 -->
                <section class="changelog-section">
                    <h2 class="changelog-year">2025年6月</h2>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.7.1</h3>
                            <time class="changelog-date" datetime="2025-06-30">2025年6月30日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 修改紀錄頁面側邊導覽目錄（TOC）</li>
                                <li><span class="tag tag-improved">改進</span> 支援年份和版本的快速導覽</li>
                                <li><span class="tag tag-improved">改進</span> 自動高亮當前章節並支援平滑滾動</li>
                                <li><span class="tag tag-improved">改進</span> 統一跨日期版本記錄格式</li>
                                <li><span class="tag tag-improved">改進</span> TOC 以年份分類，版本顯示月日</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.7.0</h3>
                            <time class="changelog-date" datetime="2025-06-30">2025年6月30日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 新增多選標籤過濾系統文件說明</li>
                                <li><span class="tag tag-improved">改進</span> 記錄最新的動畫標準與互動模式</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.9</h3>
                            <time class="changelog-date" datetime="2025-06-30">2025年6月30日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 副本資料庫新增多選類型過濾功能</li>
                                <li><span class="tag tag-improved">改進</span> 將類型下拉選單改為可多選標籤系統</li>
                                <li><span class="tag tag-improved">改進</span> 提供更靈活的過濾選項組合，提升搜尋體驗</li>
                                <li><span class="tag tag-improved">改進</span> 版本過濾也改為多選標籤系統</li>
                                <li><span class="tag tag-improved">改進</span> 等級過濾同樣改為多選標籤系統</li>
                                <li><span class="tag tag-improved">改進</span> 支援類型、版本與等級的三重交叉組合查詢</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.8</h3>
                            <time class="changelog-date" datetime="2025-06-29">2025年6月29日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 更新 CLAUDE.md 開發指南</li>
                                <li><span class="tag tag-improved">改進</span> 新增安全檢查與工具摘要說明</li>
                                <li><span class="tag tag-info">資訊</span> 強化 AI 助手操作指引</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.7</h3>
                            <time class="changelog-date" datetime="2025-06-29">2025年6月29日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fixed">修正</span> 修復 CodeQL 報告的 XSS 安全漏洞</li>
                                <li><span class="tag tag-improved">改進</span> 使用 DOM 操作取代 innerHTML 避免安全風險</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.6</h3>
                            <time class="changelog-date" datetime="2025-06-29">2025年6月29日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fixed">修正</span> Faux Hollows Foxes 盤面縮放問題</li>
                                <li><span class="tag tag-improved">改進</span> 支援瀏覽器縮放功能正常運作</li>
                                <li><span class="tag tag-improved">改進</span> 移除視窗高度限制，避免介面崩潰</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.5</h3>
                            <time class="changelog-date" datetime="2025-06-28">2025年6月28日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> Faux Hollows Foxes 新增資料來源說明</li>
                                <li><span class="tag tag-improved">改進</span> 優化按鈕配色設計，採用和諧色調</li>
                                <li><span class="tag tag-improved">改進</span> 調整版面配置，資料來源置於底部</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.4</h3>
                            <time class="changelog-date" datetime="2025-06-28">2025年6月28日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 最佳策略高亮功能預設開啟</li>
                                <li><span class="tag tag-improved">改進</span> 按鈕改為切換功能，可隨時開關高亮顯示</li>
                                <li><span class="tag tag-improved">改進</span> 障礙物確認後自動顯示最佳策略</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.3</h3>
                            <time class="changelog-date" datetime="2025-06-28">2025年6月28日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新功能</span> Faux Hollows Foxes 計算機新增最佳化建議功能</li>
                                <li><span class="tag tag-improved">改進</span> 最高機率格子以藍色（劍）紅色（寶箱）發光提示</li>
                                <li><span class="tag tag-improved">改進</span> 支援同機率多格同時高亮顯示</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.2</h3>
                            <time class="changelog-date" datetime="2025-06-28">2025年6月28日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 移除工具頁面冗餘描述文字</li>
                                <li><span class="tag tag-improved">改進</span> 統一描述文字置中顯示</li>
                                <li><span class="tag tag-info">資訊</span> 更新專案文件與 README</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.1</h3>
                            <time class="changelog-date" datetime="2025-06-28">2025年6月28日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-fixed">修正</span> 副本資料庫 JSON 路徑問題</li>
                                <li><span class="tag tag-fixed">修正</span> 手機版工具名稱顯示</li>
                                <li><span class="tag tag-improved">改進</span> 響應式導航列空間配置</li>
                                <li><span class="tag tag-info">資訊</span> 恢復遺失的 dungeons.json 檔案</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.6.0</h3>
                            <time class="changelog-date" datetime="2025-06-27">2025年6月27日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 手機版漢堡選單</li>
                                <li><span class="tag tag-improved">改進</span> 工具名稱顯示於導航列</li>
                                <li><span class="tag tag-improved">改進</span> 宗長計算機版面優化</li>
                                <li><span class="tag tag-fixed">修正</span> 手機版導航列多排問題</li>
                                <li><span class="tag tag-fixed">修正</span> CSS 選擇器語法錯誤</li>
                            </ul>
                        </div>
                    </article>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.5.1</h3>
                            <time class="changelog-date" datetime="2025-06-25">2025年6月25日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 網站 favicon</li>
                            </ul>
                        </div>
                    </article>

                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.5.0</h3>
                            <time class="changelog-date" datetime="2025-06-25">2025年6月25日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 修改紀錄頁面</li>
                                <li><span class="tag tag-new">新增</span> 導航列下拉選單</li>
                                <li><span class="tag tag-improved">改進</span> 全站導航統一</li>
                            </ul>
                        </div>
                    </article>

                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.4.0</h3>
                            <time class="changelog-date" datetime="2025-06-25">2025年6月25日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> Faux Hollows 重構：Constants-driven 設計</li>
                                <li><span class="tag tag-fixed">修正</span> 障礙物機率更新邏輯</li>
                            </ul>
                        </div>
                    </article>

                    <!-- 2025年6月24日 -->
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.3.0</h3>
                            <time class="changelog-date" datetime="2025-06-24">2025年6月24日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> Faux Hollows 計算機</li>
                                <li><span class="tag tag-new">新增</span> 寶物機率顯示</li>
                                <li><span class="tag tag-new">新增</span> 自動填充障礙物</li>
                                <li><span class="tag tag-improved">改進</span> FF14 官方配色</li>
                            </ul>
                        </div>
                    </article>

                    <!-- 2025年6月23日 -->
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.2.0</h3>
                            <time class="changelog-date" datetime="2025-06-23">2025年6月23日</time>
                        </div>
                        <div class="changelog-content">
                            <h4>角色卡產生器</h4>
                            <ul>
                                <li><span class="tag tag-new">新增</span> 45個職業圖示</li>
                                <li><span class="tag tag-new">新增</span> 背景透明度調整</li>
                                <li><span class="tag tag-improved">改進</span> 名片風格設計</li>
                            </ul>
                            <h4>副本資料庫</h4>
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 擴充副本資料</li>
                                <li><span class="tag tag-improved">改進</span> 新增深層迷宮分類</li>
                            </ul>
                        </div>
                    </article>

                    <!-- 2025年6月22日 -->
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.1.0</h3>
                            <time class="changelog-date" datetime="2025-06-22">2025年6月22日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-new">新增</span> 副本資料庫 (362個副本)</li>
                                <li><span class="tag tag-new">新增</span> Wondrous Tails 預測器</li>
                                <li><span class="tag tag-new">新增</span> Mini Cactpot 計算機</li>
                                <li><span class="tag tag-new">新增</span> 關於/版權頁面</li>
                                <li><span class="tag tag-info">資訊</span> 資料來源：灰機Wiki</li>
                            </ul>
                        </div>
                    </article>

                    <!-- 2025年6月21日 -->
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">v1.0.0</h3>
                            <time class="changelog-date" datetime="2025-06-21">2025年6月21日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 多工具模組化設計</li>
                                <li><span class="tag tag-improved">改進</span> 共用資源架構</li>
                                <li><span class="tag tag-new">新增</span> CLAUDE.md 開發指南</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- 2025年1月 -->
                <section class="changelog-section">
                    <h2 class="changelog-year">2025年1月</h2>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">年份更新</h3>
                            <time class="changelog-date" datetime="2025-01-12">2025年1月12日</time>
                        </div>
                        <div class="changelog-content">
                            <ul>
                                <li><span class="tag tag-improved">改進</span> 更新版權年份至 2025 年</li>
                            </ul>
                        </div>
                    </article>
                </section>

                <!-- 2024年11月 -->
                <section class="changelog-section">
                    <h2 class="changelog-year">2024年11月</h2>
                    
                    <article class="changelog-entry">
                        <div class="changelog-header">
                            <h3 class="changelog-version">專案啟動</h3>
                            <time class="changelog-date" datetime="2024-11-22">2024年11月22日</time>
                        </div>
                        <div class="changelog-content">
                            <h4>里程碑</h4>
                            <ul>
                                <li><span class="tag tag-info">資訊</span> FF14.tw 專案正式啟動</li>
                                <li><span class="tag tag-new">新增</span> 初始首頁</li>
                                <li><span class="tag tag-new">新增</span> CNAME 設定 ff14.tw 域名</li>
                            </ul>
                        </div>
                    </article>
                </section>
            </div>

                <!-- 更新說明 -->
                <div class="update-notice" id="aboutChangelog">
                    <h3>關於修改紀錄</h3>
                    <p>本頁面記錄 FF14.tw 的重要功能更新與改進。詳細的技術變更請參考 <a href="https://github.com/hydai/ff14.tw/commits/main" target="_blank" rel="noopener noreferrer">GitHub Commits</a>。</p>
                    <div class="tag-legend">
                        <h4>標籤說明</h4>
                        <ul>
                            <li><span class="tag tag-new">新增</span> 新功能或新工具</li>
                            <li><span class="tag tag-improved">改進</span> 功能優化或體驗提升</li>
                            <li><span class="tag tag-fixed">修正</span> 錯誤修復</li>
                            <li><span class="tag tag-info">資訊</span> 重要資訊或里程碑</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024-2025 FF14.tw | 本站非官方網站，與 Square Enix 無關 | Made with ❤️ by hydai</p>
        </div>
    </footer>

    <a href="#" class="back-to-top" id="backToTop">↑</a>
    <script src="assets/js/common.js"></script>
    <script>
        // 生成 TOC
        document.addEventListener('DOMContentLoaded', function() {
            const tocNav = document.getElementById('tocNav');
            const tocItems = [];
            
            // 收集所有版本並按年份分組
            const yearGroups = {};
            
            document.querySelectorAll('.changelog-entry').forEach(entry => {
                const version = entry.querySelector('.changelog-version');
                const date = entry.querySelector('.changelog-date');
                
                if (version && date) {
                    const dateText = date.textContent;
                    // 提取年份和月日（例如：2025年6月21日 -> 2025年, 6月21日）
                    const yearMatch = dateText.match(/(\d+)年/);
                    const monthDayMatch = dateText.match(/(\d+月\d+日)/);
                    
                    if (yearMatch && monthDayMatch) {
                        const year = yearMatch[0];
                        const monthDay = monthDayMatch[0];
                        
                        if (!yearGroups[year]) {
                            yearGroups[year] = {
                                text: year,
                                id: 'year-' + year.replace(/[^\d]/g, ''),
                                level: 1,
                                versions: []
                            };
                        }
                        
                        const versionId = 'version-' + version.textContent.replace(/[^\w\d]/g, '');
                        entry.id = versionId;
                        
                        yearGroups[year].versions.push({
                            text: version.textContent + ' - ' + monthDay,
                            id: versionId,
                            level: 2
                        });
                    }
                }
            });
            
            // 轉換為陣列並排序（新到舊）
            Object.values(yearGroups)
                .sort((a, b) => b.text.localeCompare(a.text))
                .forEach(group => tocItems.push(group));
            
            // 為年份分組設定 ID
            document.querySelectorAll('.changelog-section').forEach(section => {
                const year = section.querySelector('.changelog-year');
                if (year) {
                    const yearText = year.textContent;
                    const yearMatch = yearText.match(/(\d+)年/);
                    if (yearMatch) {
                        section.id = 'year-' + yearMatch[1];
                    }
                }
            });
            
            // 添加關於修改紀錄
            tocItems.push({
                text: '關於修改紀錄',
                id: 'aboutChangelog',
                level: 1,
                versions: []
            });
            
            // 建立 TOC HTML
            tocItems.forEach(item => {
                const yearLink = document.createElement('a');
                yearLink.href = '#' + item.id;
                yearLink.className = 'toc-link toc-level-1';
                yearLink.textContent = item.text;
                tocNav.appendChild(yearLink);
                
                if (item.versions.length > 0) {
                    const versionList = document.createElement('div');
                    versionList.className = 'toc-sublist';
                    
                    item.versions.forEach(version => {
                        const versionLink = document.createElement('a');
                        versionLink.href = '#' + version.id;
                        versionLink.className = 'toc-link toc-level-2';
                        versionLink.textContent = version.text;
                        versionList.appendChild(versionLink);
                    });
                    
                    tocNav.appendChild(versionList);
                }
            });
            
            // 平滑滾動
            document.querySelectorAll('.toc-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
            
            // 滾動時高亮當前章節
            let ticking = false;
            function updateActiveLink() {
                const scrollY = window.scrollY;
                const viewportHeight = window.innerHeight;
                
                let activeId = null;
                const sections = document.querySelectorAll('[id^="year-"], [id^="version-"], #aboutChangelog');
                
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= viewportHeight / 3 && rect.bottom > 0) {
                        activeId = section.id;
                    }
                });
                
                // 更新 active 狀態
                document.querySelectorAll('.toc-link').forEach(link => {
                    link.classList.remove('active');
                    if (activeId && link.getAttribute('href') === '#' + activeId) {
                        link.classList.add('active');
                    }
                });
                
                ticking = false;
            }
            
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(updateActiveLink);
                    ticking = true;
                }
            });
            
            // 初始化
            updateActiveLink();
        });
    </script>
</body>
</html>